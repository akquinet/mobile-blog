
<div ng-controller="BlogPostController">
    <div id="toolbar" ng-controller="ToolbarController">
        <header>
            <span class="headerInner" ng-bind-template="{{ blogPost.title }}"></span>
        </header>

        <div ng-switch="userService.isLoggedIn()">
            <button class="btn btn-left" ng-click="onBackBtnTap()">Back</button>
            <!-- user is not logged-in -->
            <div ng-switch-when="false">
                <button class="btn btn-right" ng-click="routeTo('/login')">Login</button>
            </div>

            <!-- user is logged-in -->
            <div ng-switch-when="true">
                <button class="btn btn-left" ng-click="onLogoutBtnTap()">Logout</button>
                <button class="btn btn-right" ng-click="routeTo('/post/' + blogPost.id + '/comment/add')">Add comment</button>
            </div>
        </div>
    </div>

    <div id="wrapper" scroll-container>
        <div class="content">
            <div class="inner innerPadding">
                <div id="blogPost">
                    <h2>{{ blogPost.id }} {{ blogPost.title }}</h2>
                    <h5>
                        {{ blogPost.author.firstname }} {{ blogPost.author.surname }} - {{ blogPost.created | date:'dd.MM.yyyy H:mm' }}
                    </h5>
                    <p>{{ blogPost.content }}</p>
                </div>

                <div id="commentsList">
                    <h3 ng-show="commentService.comments">Comments</h3>

                    <div class="comment" ng-repeat="comment in commentService.comments">
                        <p>{{ comment.content }}</p>
                        <p>
                            -- {{ comment.author.firstname }} {{ comment.author.surname }}, {{ comment.created | date:'dd.MM.yyyy H:mm' }}
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
